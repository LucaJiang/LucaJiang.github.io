<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Jiang Wenxin&#39;s blog</title>
  
  
  <link href="https://lucajiang.github.io/atom.xml" rel="self"/>
  
  <link href="https://lucajiang.github.io/"/>
  <updated>2020-11-12T02:54:35.861Z</updated>
  <id>https://lucajiang.github.io/</id>
  
  <author>
    <name>Jiangwx7</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>基于 Framingham 数据集冠心病生存分析</title>
    <link href="https://lucajiang.github.io/2020/11/12/FraminghamCHDSurvivalAnalysis/"/>
    <id>https://lucajiang.github.io/2020/11/12/FraminghamCHDSurvivalAnalysis/</id>
    <published>2020-11-12T02:51:23.000Z</published>
    <updated>2020-11-12T02:54:35.861Z</updated>
    
    <content type="html"><![CDATA[<p>中山大学2017级统计学生存分析期末作业</p><div class="row">    <embed src="/images/CHD.pdf" width="100%" height="550" type="application/pdf"></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;中山大学2017级统计学生存分析期末作业&lt;/p&gt;


	&lt;div class=&quot;row&quot;&gt;
    &lt;embed src=&quot;/images/CHD.pdf&quot; width=&quot;100%&quot; height=&quot;550&quot; type=&quot;application/pdf&quot;&gt;
	&lt;/div&gt;
</summary>
      
    
    
    
    
    <category term="survival analysis" scheme="https://lucajiang.github.io/tags/survival-analysis/"/>
    
  </entry>
  
  <entry>
    <title>Detect Rectangle Mark in Medical Images</title>
    <link href="https://lucajiang.github.io/2020/11/11/Detect-Rectangle-Mark-in-Medical-Images/"/>
    <id>https://lucajiang.github.io/2020/11/11/Detect-Rectangle-Mark-in-Medical-Images/</id>
    <published>2020-11-11T13:32:16.000Z</published>
    <updated>2020-11-12T03:21:17.155Z</updated>
    
    <content type="html"><![CDATA[<p>Detect white rectangle mark in medical images, using morphological opening and Hough transform.</p><p>The Chinese Version of readme, see <a href="https://github.com/LucaJiang/Detect-Rectangle-Mark-in-Medical-Images/blob/master/README_zhCN.md">here</a>.</p><h2 id="Content"><a href="#Content" class="headerlink" title="Content"></a>Content</h2><ul><li><a href="#background">Background</a></li><li><a href="#method">Method</a></li><li><a href="#result">Result</a></li><li><a href="#code">MATLAB Code</a></li></ul><h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>Medical images often have regions of interest marked by doctors. Generally speaking, before building a deep learning model, we need to manually select these areas, which is time-consuming and may introduce extra errors. This repo proposes a graphics-based method to select these areas automatically.</p><p>Take this thyroid ultrasound(US) image for example. The black shadow in the middle is a thyroid nodule. The thin white box around it is a mark. We need to obtain images of areas deemed valuable by doctors and build models based on those areas. </p><!--  --><p align="center"><img src="https://drive.google.com/file/d/1Od_oUFon23IkI9FQ5l0ff5oJGkH5sXEl/view?usp=sharing" alt="ultrasound(US) images" width="250" height="250"></p><p>If the gray scale of the white box is stable. For example, it is a fixed value. We can easily locate the white box through a computer program. Unfortunately, in most cases, the gray scale would be affected by the background color. </p><p>We generally use hough transform to detect straight lines. However, medical images often have interference elements. For example, in this case, the dividing line between the skin and muscles of the neck could be easily misjudged by the computer as part of the white box. That’s why hough transform can not be applied directly.</p><p>Besides, to be honest, manual processing of this kind of images is also very laborious. Because the line is too thin.</p><p>To sum up, it is difficult to detect  white rectangle mark in medical images. And I failed to find a suitable way to deal with such problem on the internet or papers. So I try my best to propose my own ideas on it.</p><p>In the following sections, I propose a method based on morphological operations and hough transform. <em>BTW, I suggest that you should check it yourself after processing. Although this program works well, it could fail in some special cases.</em></p><h2 id="Method"><a href="#Method" class="headerlink" title="Method"></a>Method</h2><p>In order to apply hough transform, we need to separate white line from interference background. So, firstly, we apply <strong>morphological opening</strong> on the <strong>gray scale images</strong>. The morphological open operation is an erosion followed by a dilation, using the same structuring element for both operations. For more details, see <a href="https://www.mathworks.com/help/images/ref/imopen.html#f5-345703_seealso">here</a>.</p><p>Then, we can easily detect the mark in current situation (see the middle row of result). Here, I apply <strong>hough transform</strong>, but you can use whatever you want. The theory of hough transform can be found <a href="https://en.wikipedia.org/wiki/Hough_transform">here</a>.</p><p>The core MATLAB codes of this process are</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% get gray scale images</span></span><br><span class="line">img = rgb2gray(ori_img);</span><br><span class="line"></span><br><span class="line"><span class="comment">% morphological operations</span></span><br><span class="line">background = imopen(img, strel(<span class="string">&#x27;disk&#x27;</span>, disk_size));</span><br><span class="line">sub = imsubtract(img, background);</span><br><span class="line">ind = sub &gt;= min_sub;</span><br><span class="line">imshow(ind)</span><br><span class="line"></span><br><span class="line"><span class="comment">% hough transform</span></span><br><span class="line">[n, m] = <span class="built_in">size</span>(ind);</span><br><span class="line">[H,T,R] = hough(ind);</span><br><span class="line">P = houghpeaks(H, <span class="number">4</span>, <span class="string">&#x27;threshold&#x27;</span>, <span class="built_in">ceil</span>(<span class="number">0.2</span>*<span class="built_in">max</span>(H(:))));</span><br><span class="line">lines = houghlines(ind, T, R, P, <span class="string">&#x27;FillGap&#x27;</span>, </span><br><span class="line">                FillGap_value,<span class="string">&#x27;MinLength&#x27;</span>, MinLength_value);</span><br><span class="line"><span class="comment">% cropping along lines</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p>The results show as follows.</p><p><img src="https://drive.google.com/file/d/1BsTo0EpCDUs1Yhcv3bjo87eHg1X0hNwb/view?usp=sharing" alt="Result"></p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><p>MATLAB code available at <a href="https://github.com/LucaJiang/Detect-Rectangle-Mark-in-Medical-Images/blob/master/code.m">here</a>.</p><h2 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h2><p>The processing of locating the point after the Hough transform could be improved. Insert try-catch exception module, for instance. But the current processing effect has reached my requirements.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Detect white rectangle mark in medical images, using morphological opening and Hough transform.&lt;/p&gt;
&lt;p&gt;The Chinese Version of readme, see</summary>
      
    
    
    
    
    <category term="image processing" scheme="https://lucajiang.github.io/tags/image-processing/"/>
    
  </entry>
  
  <entry>
    <title>My First Article</title>
    <link href="https://lucajiang.github.io/2020/11/04/My-First-Article/"/>
    <id>https://lucajiang.github.io/2020/11/04/My-First-Article/</id>
    <published>2020-11-04T13:05:45.000Z</published>
    <updated>2020-11-05T06:15:35.354Z</updated>
    
    <content type="html"><![CDATA[<p>HELLO~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;HELLO~&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://lucajiang.github.io/2020/11/04/hello-world/"/>
    <id>https://lucajiang.github.io/2020/11/04/hello-world/</id>
    <published>2020-11-04T11:45:46.257Z</published>
    <updated>2020-11-05T06:15:03.425Z</updated>
    
    <content type="html"><![CDATA[<p>This article is rewrite based on Hexo’s Hello world post.</p><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><p>Between two “ is your new-post-name. Here the post name is <em>My New Post</em>.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p>Then you can view your new post at your local server. </p><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo d</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;This article is rewrite based on Hexo’s Hello world post.&lt;/p&gt;
&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first </summary>
      
    
    
    
    
  </entry>
  
</feed>
